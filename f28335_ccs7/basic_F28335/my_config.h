/*
 * my_ctrl.h
 *
 *  Created on: May 17, 2019
 *      Author: joaoantoniocardoso
 */

#ifndef MY_CONFIG_H_
#define MY_CONFIG_H_

#define CTRL_ON
#define OVERSAMPLING
volatile const unsigned char use_observer = 1;

// VARIABLES
volatile double r[4] = {0, 0, 0, 0};            // {passado -> atual}
volatile double e[4] = {0, 0, 0, 0};            // {passado -> atual}
volatile double u[4] = {0, 0, 0, 0};            // {passado -> atual}
volatile double c[4] = {0, 0, 0, 0};            // {passado -> atual}

// CONSTANTS
volatile const double adc_ratio = 0.000732421875 * 1.0036764705882353;
volatile const double dac_ratio = 2272.7272727272728;

// CONTROL
// 1kHz
volatile const double G_b[3] = {
    +0.001012807017875871906653628684580326080322265625000000000000,    \
    +0.003402360773457235865180336986668407917022705078125000000000,    \
    +0.000706068067583276448573315065004862844944000244140625000000
};
volatile const double G_a[4] = {
    +1.000000000000000000000000000000000000000000000000000000000000,    \
    -2.427239465460885980974126141518354415893554687500000000000000,    \
    +1.917943608960099410865041136275976896286010742187500000000000,    \
    -0.485582907640297600782020026599639095366001129150390625000000
};
volatile const double Gd_b[3] = {
    +4.148765765461027044125330576207488775253295898437500000000000,    \
    -7.824541023678916573658170818816870450973510742187500000000000,    \
    +3.722089522017093088379624532535672187805175781250000000000000
};
volatile const double Gd_a[3] = {
    +1.000000000000000000000000000000000000000000000000000000000000,    \
    -1.641193772122911953559309949923772364854812622070312500000000,    \
    +0.641193772122911953559309949923772364854812622070312500000000
};
#endif /* MY_CONFIG_H_ */
